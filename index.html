<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For my Zee ðŸ’œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Handwritten font -->
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(135deg, #e9d5ff, #c4b5fd);
  font-family: Arial, sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  overflow-x: hidden;
}

.card {
  background: #faf5ff;
  padding: 2em;
  border-radius: 1.5em;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 1em 3em rgba(76,29,149,0.25);
  position: relative;
  z-index: 2;
}

h1 {
  color: #7c3aed;
}

p {
  color: #4c1d95;
  font-size: 1rem;
}

/* BUTTONS */
button {
  padding: 0.75em 2em;
  border: none;
  border-radius: 1.5em;
  font-size: 1rem;
  cursor: pointer;
  margin: 0.5em;
  background: linear-gradient(145deg, #a78bfa, #7c3aed);
  color: white;
  box-shadow: 0 0.4em 1em rgba(124,58,237,.35);
  transition: all 0.25s ease;
}

button:hover {
  transform: scale(1.08);
  box-shadow: 0 0.6em 1.5em rgba(124,58,237,.55);
}

button:active {
  transform: scale(0.95);
}

#no {
  background: linear-gradient(145deg, #e5e7eb, #d4d4d8);
  color: #333;
  position: absolute;
}

/* START SCREEN */
#startScreen {
  position: fixed;
  inset: 0;
  background: rgba(124,58,237,.65);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
  font-size: 1.2rem;
  cursor: pointer;
}

/* ENVELOPE */
.envelope-container {
  perspective: 800px;
  width: 100%;
  max-width: 280px;
  aspect-ratio: 1.6;
  margin: 1em auto;
  position: relative;
}

.envelope {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  cursor: pointer;
}

.envelope:hover {
  transform: scale(1.03);
}

/* Flap */
.flap {
  width: 100%;
  height: 50%;
  background: #e5e7eb;
  position: absolute;
  top: 0;
  left: 0;
  border-top-left-radius: 0.5em;
  border-top-right-radius: 0.5em;
  transform-origin: top;
  transition: transform 0.6s cubic-bezier(.68,-0.55,.265,1.55);
  z-index: 3;
  box-shadow: 0 0.2em 0.5em rgba(0,0,0,0.2);
}

/* Paper */
.paper {
  position: absolute;
  bottom: 0; /* starts at bottom of envelope */
  left: 0;
  width: 100%;
  height: 100%;
  padding: 1em;
  border-radius: 0.5em;
  background: #fff8dc;
  transform: translateY(0); /* hidden behind flap */
  transition: transform 0.8s ease;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.05);
  font-family: 'Patrick Hand', cursive;
  font-size: 1rem;
  z-index: 2;
}

.paper::after {
  content: "ðŸ’‹ ðŸ’‹ ðŸ’‹";
  position: absolute;
  bottom: 0.2em;
  right: 0.2em;
  font-size: 0.9rem;
  opacity: 0.3;
}

.paper h3 {
  margin-top: 0;
  color: #7c3aed;
}
</style>
</head>

<body>

<div id="startScreen" onclick="startExperience()">Tap anywhere love ðŸ’œ</div>

<audio id="music" autoplay loop>
  <source src="blue.mp3" type="audio/mpeg">
</audio>

<audio id="flapSound">
  <source src="flap.mp3" type="audio/mpeg">
</audio>

<div class="card" id="card">
  <img src="choose.gif" style="width:100%;border-radius:1em;">
  <h1>Zee ðŸ’œ</h1>
  <p id="typing"></p>
  <p>Will you be my Valentine, Babe?</p>
  <button onclick="yesClick()">Yes ðŸ’•</button>
  <button id="no" onmouseover="moveNo()">No ðŸ’”</button>
</div>

<script>
const text = "No matter the distance, youâ€™re always my favorite person.";
let i = 0;

function typeText() {
  if (i < text.length) {
    document.getElementById("typing").textContent += text.charAt(i);
    i++;
    setTimeout(typeText, 40);
  }
}

function startExperience() {
  document.getElementById("startScreen").style.display = "none";
  document.getElementById("music").play();
  typeText();
}

function yesClick() {
  const card = document.getElementById("card");
  card.innerHTML = `
    <img src="yay.gif" style="width:100%;border-radius:1em;">
    <h1>YAYYY :D ðŸ’œ</h1>
    <p>Happy Valentineâ€™s Day, Zee.<br>I choose you. Always :3</p>
    <button id="oneMoreBtn">One more thingâ€¦ ðŸ’Œ</button>
  `;
  document.getElementById("oneMoreBtn").addEventListener("click", openEnvelope);
}

function openEnvelope() {
  const card = document.getElementById("card");
  card.innerHTML = `
    <div class="envelope-container" onclick="toggleEnvelope(this)">
      <div class="envelope">
        <div class="paper">
          <h3>To my person</h3>
          <p>
          Hey love, I just wanted to tell you how much you mean to me. Even though weâ€™re miles apart, I feel you with me every day in my thoughts and my heart. Every little thing about you, your voice, your laugh, the way you care, makes me fall for you more and more. I miss you like crazy, and I canâ€™t wait for the day weâ€™re finally together. Until then, just know that no distance can ever change how much I love you. Maybe someday soon, I'll be on a plane, flying through the sky, not just to visit, but to find you, hold you, and finally do the things that we've been dreaming for.. I love you ðŸ’–
          </p>
        </div>
        <div class="flap"></div>
      </div>
    </div>
    <p style="margin-top:0.5em;font-size:0.9rem;">(tap the envelope)</p>
  `;
}

function toggleEnvelope(container) {
  const flap = container.querySelector('.flap');
  const paper = container.querySelector('.paper');
  const isOpen = flap.style.transform === 'rotateX(-180deg)';

  // flap opens with tiny bounce
  flap.style.transform = isOpen ? 'rotateX(0deg)' : 'rotateX(-180deg)';

  // paper slides out naturally from inside envelope
  paper.style.transform = isOpen ? 'translateY(0)' : 'translateY(-70%)';

  const sound = document.getElementById('flapSound');
  sound.currentTime = 0;
  sound.play();
}

function moveNo() {
  const no = document.getElementById("no");
  const pad = 10;
  no.style.left = Math.random() * (window.innerWidth - no.offsetWidth - pad*2) + pad + "px";
  no.style.top = Math.random() * (window.innerHeight - no.offsetHeight - pad*2) + pad + "px";
}
</script>
</body>
</html>
